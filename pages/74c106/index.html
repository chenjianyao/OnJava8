<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>为所有已公开的 API 元素编写文档注释 | 一席之地</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/OnJava8/img/favicon.ico">
    <meta name="description" content="技术博客,专注Java后端学习与总结。Java,Spring等技术文章。">
    <meta name="keywords" content="前端博客,个人技术博客,前端,前端开发,前端框架,web前端,前端面试题,技术文档,学习,面试,JavaScript,js,ES6,TypeScript,vue,python,css3,html5,Node,git,github,markdown">
    <meta name="theme-color" content="#11a8cd">
    
    <link rel="preload" href="/OnJava8/assets/css/0.styles.ad933ae4.css" as="style"><link rel="preload" href="/OnJava8/assets/js/app.bd93526c.js" as="script"><link rel="preload" href="/OnJava8/assets/js/2.e7971354.js" as="script"><link rel="preload" href="/OnJava8/assets/js/107.37540438.js" as="script"><link rel="prefetch" href="/OnJava8/assets/js/10.aab10d07.js"><link rel="prefetch" href="/OnJava8/assets/js/100.6a76afaf.js"><link rel="prefetch" href="/OnJava8/assets/js/101.8cfd52aa.js"><link rel="prefetch" href="/OnJava8/assets/js/102.d7fc1dd6.js"><link rel="prefetch" href="/OnJava8/assets/js/103.62e6389e.js"><link rel="prefetch" href="/OnJava8/assets/js/104.ec3c745e.js"><link rel="prefetch" href="/OnJava8/assets/js/105.0176bd1d.js"><link rel="prefetch" href="/OnJava8/assets/js/106.0beb0506.js"><link rel="prefetch" href="/OnJava8/assets/js/108.35a13d77.js"><link rel="prefetch" href="/OnJava8/assets/js/109.2b6301f8.js"><link rel="prefetch" href="/OnJava8/assets/js/11.a4d04d08.js"><link rel="prefetch" href="/OnJava8/assets/js/110.4fcddbf4.js"><link rel="prefetch" href="/OnJava8/assets/js/111.128ce7dd.js"><link rel="prefetch" href="/OnJava8/assets/js/112.03cc4176.js"><link rel="prefetch" href="/OnJava8/assets/js/113.7c9aac72.js"><link rel="prefetch" href="/OnJava8/assets/js/114.cd16da1e.js"><link rel="prefetch" href="/OnJava8/assets/js/115.1d789ca1.js"><link rel="prefetch" href="/OnJava8/assets/js/116.d8969f90.js"><link rel="prefetch" href="/OnJava8/assets/js/117.039b29bf.js"><link rel="prefetch" href="/OnJava8/assets/js/118.374747a2.js"><link rel="prefetch" href="/OnJava8/assets/js/119.e5149e17.js"><link rel="prefetch" href="/OnJava8/assets/js/12.d4a19bab.js"><link rel="prefetch" href="/OnJava8/assets/js/120.0fab4d32.js"><link rel="prefetch" href="/OnJava8/assets/js/121.87f7f390.js"><link rel="prefetch" href="/OnJava8/assets/js/122.6400d6fd.js"><link rel="prefetch" href="/OnJava8/assets/js/123.66ef8f99.js"><link rel="prefetch" href="/OnJava8/assets/js/124.af5d1549.js"><link rel="prefetch" href="/OnJava8/assets/js/125.5dc2b538.js"><link rel="prefetch" href="/OnJava8/assets/js/126.33709ca8.js"><link rel="prefetch" href="/OnJava8/assets/js/127.1d27f64b.js"><link rel="prefetch" href="/OnJava8/assets/js/128.df1f0a0f.js"><link rel="prefetch" href="/OnJava8/assets/js/129.2bfc6cc2.js"><link rel="prefetch" href="/OnJava8/assets/js/13.61f81ba0.js"><link rel="prefetch" href="/OnJava8/assets/js/130.8480463e.js"><link rel="prefetch" href="/OnJava8/assets/js/131.89a24a8b.js"><link rel="prefetch" href="/OnJava8/assets/js/132.b1061e40.js"><link rel="prefetch" href="/OnJava8/assets/js/133.4d9bc90c.js"><link rel="prefetch" href="/OnJava8/assets/js/134.c391790b.js"><link rel="prefetch" href="/OnJava8/assets/js/135.167ac455.js"><link rel="prefetch" href="/OnJava8/assets/js/136.020dccf9.js"><link rel="prefetch" href="/OnJava8/assets/js/137.23c6903f.js"><link rel="prefetch" href="/OnJava8/assets/js/138.3b6b99ca.js"><link rel="prefetch" href="/OnJava8/assets/js/139.777c122b.js"><link rel="prefetch" href="/OnJava8/assets/js/14.726776ee.js"><link rel="prefetch" href="/OnJava8/assets/js/140.6d7e858a.js"><link rel="prefetch" href="/OnJava8/assets/js/141.714c04b2.js"><link rel="prefetch" href="/OnJava8/assets/js/142.bd9ba292.js"><link rel="prefetch" href="/OnJava8/assets/js/143.1f83042a.js"><link rel="prefetch" href="/OnJava8/assets/js/144.6595f82d.js"><link rel="prefetch" href="/OnJava8/assets/js/145.7d7f4a74.js"><link rel="prefetch" href="/OnJava8/assets/js/15.1b581397.js"><link rel="prefetch" href="/OnJava8/assets/js/16.46e809c9.js"><link rel="prefetch" href="/OnJava8/assets/js/17.191c740d.js"><link rel="prefetch" href="/OnJava8/assets/js/18.48f57c2b.js"><link rel="prefetch" href="/OnJava8/assets/js/19.658ae315.js"><link rel="prefetch" href="/OnJava8/assets/js/20.8527c7ad.js"><link rel="prefetch" href="/OnJava8/assets/js/21.27e490d9.js"><link rel="prefetch" href="/OnJava8/assets/js/22.ec35fcb7.js"><link rel="prefetch" href="/OnJava8/assets/js/23.8433c799.js"><link rel="prefetch" href="/OnJava8/assets/js/24.dcd9cfa0.js"><link rel="prefetch" href="/OnJava8/assets/js/25.dd75b357.js"><link rel="prefetch" href="/OnJava8/assets/js/26.daa823b8.js"><link rel="prefetch" href="/OnJava8/assets/js/27.9f527b4e.js"><link rel="prefetch" href="/OnJava8/assets/js/28.43363c2c.js"><link rel="prefetch" href="/OnJava8/assets/js/29.5e92a14a.js"><link rel="prefetch" href="/OnJava8/assets/js/3.0514f807.js"><link rel="prefetch" href="/OnJava8/assets/js/30.3352e224.js"><link rel="prefetch" href="/OnJava8/assets/js/31.33ac669c.js"><link rel="prefetch" href="/OnJava8/assets/js/32.9e23ac2b.js"><link rel="prefetch" href="/OnJava8/assets/js/33.abb06d42.js"><link rel="prefetch" href="/OnJava8/assets/js/34.dd0e16b7.js"><link rel="prefetch" href="/OnJava8/assets/js/35.d9df3372.js"><link rel="prefetch" href="/OnJava8/assets/js/36.80d598f5.js"><link rel="prefetch" href="/OnJava8/assets/js/37.3bbde3ba.js"><link rel="prefetch" href="/OnJava8/assets/js/38.ef3e8fef.js"><link rel="prefetch" href="/OnJava8/assets/js/39.a0524b00.js"><link rel="prefetch" href="/OnJava8/assets/js/4.f06af0e8.js"><link rel="prefetch" href="/OnJava8/assets/js/40.6d19afc5.js"><link rel="prefetch" href="/OnJava8/assets/js/41.4b6f2684.js"><link rel="prefetch" href="/OnJava8/assets/js/42.ebbb17a6.js"><link rel="prefetch" href="/OnJava8/assets/js/43.0bf0ee64.js"><link rel="prefetch" href="/OnJava8/assets/js/44.fef38f9d.js"><link rel="prefetch" href="/OnJava8/assets/js/45.c740b76a.js"><link rel="prefetch" href="/OnJava8/assets/js/46.89fea2c6.js"><link rel="prefetch" href="/OnJava8/assets/js/47.9abab0ea.js"><link rel="prefetch" href="/OnJava8/assets/js/48.0938223f.js"><link rel="prefetch" href="/OnJava8/assets/js/49.1cd1f4f9.js"><link rel="prefetch" href="/OnJava8/assets/js/5.e6c3a840.js"><link rel="prefetch" href="/OnJava8/assets/js/50.ea7995af.js"><link rel="prefetch" href="/OnJava8/assets/js/51.a04f4f39.js"><link rel="prefetch" href="/OnJava8/assets/js/52.43f57018.js"><link rel="prefetch" href="/OnJava8/assets/js/53.e9a50590.js"><link rel="prefetch" href="/OnJava8/assets/js/54.ab23870c.js"><link rel="prefetch" href="/OnJava8/assets/js/55.0e35582c.js"><link rel="prefetch" href="/OnJava8/assets/js/56.452e8953.js"><link rel="prefetch" href="/OnJava8/assets/js/57.9dd0584b.js"><link rel="prefetch" href="/OnJava8/assets/js/58.787a4dfe.js"><link rel="prefetch" href="/OnJava8/assets/js/59.2cab4f91.js"><link rel="prefetch" href="/OnJava8/assets/js/6.3ef9bbef.js"><link rel="prefetch" href="/OnJava8/assets/js/60.efe46fee.js"><link rel="prefetch" href="/OnJava8/assets/js/61.8934c875.js"><link rel="prefetch" href="/OnJava8/assets/js/62.121387c8.js"><link rel="prefetch" href="/OnJava8/assets/js/63.6a16727c.js"><link rel="prefetch" href="/OnJava8/assets/js/64.86b8c49d.js"><link rel="prefetch" href="/OnJava8/assets/js/65.99ec7c7e.js"><link rel="prefetch" href="/OnJava8/assets/js/66.4795617e.js"><link rel="prefetch" href="/OnJava8/assets/js/67.ecec3f29.js"><link rel="prefetch" href="/OnJava8/assets/js/68.e44b104e.js"><link rel="prefetch" href="/OnJava8/assets/js/69.617dfdda.js"><link rel="prefetch" href="/OnJava8/assets/js/7.7318851b.js"><link rel="prefetch" href="/OnJava8/assets/js/70.40676679.js"><link rel="prefetch" href="/OnJava8/assets/js/71.d8d538d0.js"><link rel="prefetch" href="/OnJava8/assets/js/72.f95b8e33.js"><link rel="prefetch" href="/OnJava8/assets/js/73.f6532a41.js"><link rel="prefetch" href="/OnJava8/assets/js/74.e8f97344.js"><link rel="prefetch" href="/OnJava8/assets/js/75.085fa345.js"><link rel="prefetch" href="/OnJava8/assets/js/76.420549b7.js"><link rel="prefetch" href="/OnJava8/assets/js/77.1f037b07.js"><link rel="prefetch" href="/OnJava8/assets/js/78.98f9cb60.js"><link rel="prefetch" href="/OnJava8/assets/js/79.cc8dfd96.js"><link rel="prefetch" href="/OnJava8/assets/js/8.d6fb4b4c.js"><link rel="prefetch" href="/OnJava8/assets/js/80.8b400208.js"><link rel="prefetch" href="/OnJava8/assets/js/81.a07925a3.js"><link rel="prefetch" href="/OnJava8/assets/js/82.bbc9c3a5.js"><link rel="prefetch" href="/OnJava8/assets/js/83.0bd8088e.js"><link rel="prefetch" href="/OnJava8/assets/js/84.5fea0fdf.js"><link rel="prefetch" href="/OnJava8/assets/js/85.0fd78530.js"><link rel="prefetch" href="/OnJava8/assets/js/86.e2c729bd.js"><link rel="prefetch" href="/OnJava8/assets/js/87.7b60b9e3.js"><link rel="prefetch" href="/OnJava8/assets/js/88.96e41f5e.js"><link rel="prefetch" href="/OnJava8/assets/js/89.2e526626.js"><link rel="prefetch" href="/OnJava8/assets/js/9.bee0ed10.js"><link rel="prefetch" href="/OnJava8/assets/js/90.f0a371b9.js"><link rel="prefetch" href="/OnJava8/assets/js/91.7a7b5b85.js"><link rel="prefetch" href="/OnJava8/assets/js/92.189a9131.js"><link rel="prefetch" href="/OnJava8/assets/js/93.fd76990e.js"><link rel="prefetch" href="/OnJava8/assets/js/94.b5e49e22.js"><link rel="prefetch" href="/OnJava8/assets/js/95.cf479383.js"><link rel="prefetch" href="/OnJava8/assets/js/96.989a6d03.js"><link rel="prefetch" href="/OnJava8/assets/js/97.aa9f7dd6.js"><link rel="prefetch" href="/OnJava8/assets/js/98.4d5f2cf9.js"><link rel="prefetch" href="/OnJava8/assets/js/99.a38a4414.js">
    <link rel="stylesheet" href="/OnJava8/assets/css/0.styles.ad933ae4.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/OnJava8/" class="home-link router-link-active"><img src="/OnJava8/OnJava8/images/logo.png" alt="一席之地" class="logo"> <span class="site-name can-hide">一席之地</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/OnJava8/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="书籍" class="dropdown-title"><a href="/OnJava8/book/" class="link-title">书籍</a> <span class="title" style="display:none;">书籍</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>精品</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/OnJava8/pages/5a259f/" class="nav-link">Java编程思想</a></li><li class="dropdown-subitem"><a href="/OnJava8/pages/521774/" class="nav-link">Effective Java</a></li></ul></li></ul></div></div> <a href="https://github.com/chenjianyao/OnJava8" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><!----> <nav class="nav-links"><div class="nav-item"><a href="/OnJava8/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="书籍" class="dropdown-title"><a href="/OnJava8/book/" class="link-title">书籍</a> <span class="title" style="display:none;">书籍</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>精品</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/OnJava8/pages/5a259f/" class="nav-link">Java编程思想</a></li><li class="dropdown-subitem"><a href="/OnJava8/pages/521774/" class="nav-link">Effective Java</a></li></ul></li></ul></div></div> <a href="https://github.com/chenjianyao/OnJava8" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><a href="/OnJava8/book/" class="sidebar-link">书籍</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>读书笔记</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Java编程思想</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Effective Java</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/OnJava8/pages/521774/" class="sidebar-link">考虑使用静态工厂方法替代构造方法</a></li><li><a href="/OnJava8/pages/ad6cbc/" class="sidebar-link">当构造方法参数过多时使用builder模式</a></li><li><a href="/OnJava8/pages/8cb856/" class="sidebar-link">使用私有构造方法或枚类实现Singleton属性</a></li><li><a href="/OnJava8/pages/f88ecb/" class="sidebar-link">使用私有构造方法执行非实例化</a></li><li><a href="/OnJava8/pages/41c514/" class="sidebar-link">依赖注入优于硬连接资源(hardwiring resources)</a></li><li><a href="/OnJava8/pages/709e11/" class="sidebar-link">避免创建不必要的对象</a></li><li><a href="/OnJava8/pages/959c54/" class="sidebar-link">消除过期的对象引用</a></li><li><a href="/OnJava8/pages/e765de/" class="sidebar-link">避免使用Finalizer和Cleaner机制</a></li><li><a href="/OnJava8/pages/a66224/" class="sidebar-link">使用try-with-resources语句替代try-finally语句</a></li><li><a href="/OnJava8/pages/65b752/" class="sidebar-link">重写equals方法时遵守通用约定</a></li><li><a href="/OnJava8/pages/e29538/" class="sidebar-link">重写equals方法时同时也要重写hashcode方法</a></li><li><a href="/OnJava8/pages/df7ccb/" class="sidebar-link">始终重写 toString 方法</a></li><li><a href="/OnJava8/pages/09e324/" class="sidebar-link">谨慎地重写 clone 方法</a></li><li><a href="/OnJava8/pages/f26063/" class="sidebar-link">考虑实现Comparable接口</a></li><li><a href="/OnJava8/pages/40b952/" class="sidebar-link">使类和成员的可访问性最小化</a></li><li><a href="/OnJava8/pages/96bbbb/" class="sidebar-link">在公共类中使用访问方法而不是公共属性</a></li><li><a href="/OnJava8/pages/130307/" class="sidebar-link">最小化可变性</a></li><li><a href="/OnJava8/pages/7d2ea7/" class="sidebar-link">组合优于继承</a></li><li><a href="/OnJava8/pages/7ff6fe/" class="sidebar-link">要么设计继承并提供文档说明，要么禁用继承</a></li><li><a href="/OnJava8/pages/9ffa0b/" class="sidebar-link">接口优于抽象类</a></li><li><a href="/OnJava8/pages/901098/" class="sidebar-link">为后代设计接口</a></li><li><a href="/OnJava8/pages/c15bfc/" class="sidebar-link">接口仅用来定义类型</a></li><li><a href="/OnJava8/pages/9afa3b/" class="sidebar-link">类层次结构优于标签类</a></li><li><a href="/OnJava8/pages/acaab0/" class="sidebar-link">支持使用静态成员类而不是非静态类</a></li><li><a href="/OnJava8/pages/154515/" class="sidebar-link">将源文件限制为单个顶级类</a></li><li><a href="/OnJava8/pages/f404c6/" class="sidebar-link">不要使用原始类型</a></li><li><a href="/OnJava8/pages/64baa8/" class="sidebar-link">消除非检查警告</a></li><li><a href="/OnJava8/pages/c5f5b1/" class="sidebar-link">列表优于数组</a></li><li><a href="/OnJava8/pages/976cf0/" class="sidebar-link">优先考虑泛型</a></li><li><a href="/OnJava8/pages/1d968c/" class="sidebar-link">优先使用泛型方法</a></li><li><a href="/OnJava8/pages/aae9a5/" class="sidebar-link">使用限定通配符来增加API的灵活性</a></li><li><a href="/OnJava8/pages/906989/" class="sidebar-link">合理地结合泛型和可变参数</a></li><li><a href="/OnJava8/pages/299d7f/" class="sidebar-link">优先考虑类型安全的异构容器</a></li><li><a href="/OnJava8/pages/7e2d05/" class="sidebar-link">使用枚举类型替代整型常量</a></li><li><a href="/OnJava8/pages/5d9e49/" class="sidebar-link">使用实例属性替代序数</a></li><li><a href="/OnJava8/pages/7043ef/" class="sidebar-link">使用EnumSet替代位属性</a></li><li><a href="/OnJava8/pages/b728a9/" class="sidebar-link">使用EnumMap替代序数索引</a></li><li><a href="/OnJava8/pages/a897ec/" class="sidebar-link">使用接口模拟可扩展的枚举</a></li><li><a href="/OnJava8/pages/33843a/" class="sidebar-link">注解优于命名模式</a></li><li><a href="/OnJava8/pages/4d33e9/" class="sidebar-link">始终使用Override注解</a></li><li><a href="/OnJava8/pages/4680ce/" class="sidebar-link">使用标记接口定义类型</a></li><li><a href="/OnJava8/pages/7f3456/" class="sidebar-link">lambda表达式优于匿名类</a></li><li><a href="/OnJava8/pages/d97181/" class="sidebar-link">方法引用优于lambda表达式</a></li><li><a href="/OnJava8/pages/32e0d0/" class="sidebar-link">优先使用标准的函数式接口</a></li><li><a href="/OnJava8/pages/0bdbb9/" class="sidebar-link">明智审慎地使用Stream</a></li><li><a href="/OnJava8/pages/b8b7d2/" class="sidebar-link">优先考虑流中无副作用的函数</a></li><li><a href="/OnJava8/pages/163199/" class="sidebar-link">谨慎使用流并行</a></li><li><a href="/OnJava8/pages/deb655/" class="sidebar-link">检查参数有效性</a></li><li><a href="/OnJava8/pages/c28c5f/" class="sidebar-link">必要时进行防御性拷贝</a></li><li><a href="/OnJava8/pages/e23512/" class="sidebar-link">仔细设计方法签名</a></li><li><a href="/OnJava8/pages/c6257a/" class="sidebar-link">明智审慎地使用重载</a></li><li><a href="/OnJava8/pages/4dd512/" class="sidebar-link">明智审慎地使用可变参数</a></li><li><a href="/OnJava8/pages/9a714a/" class="sidebar-link">返回空的数组或集合，不要返回 null</a></li><li><a href="/OnJava8/pages/5e80b5/" class="sidebar-link">明智审慎地返回 Optional</a></li><li><a href="/OnJava8/pages/74c106/" aria-current="page" class="active sidebar-link">为所有已公开的 API 元素编写文档注释</a></li><li><a href="/OnJava8/pages/912e8c/" class="sidebar-link">最小化局部变量的作用域</a></li><li><a href="/OnJava8/pages/35c894/" class="sidebar-link">for-each 循环优于传统 for 循环</a></li><li><a href="/OnJava8/pages/bf74de/" class="sidebar-link">了解并使用库</a></li><li><a href="/OnJava8/pages/a99d35/" class="sidebar-link">若需要精确答案就应避免使用 float 和 double 类型</a></li><li><a href="/OnJava8/pages/81cf40/" class="sidebar-link">基本数据类型优于包装类</a></li><li><a href="/OnJava8/pages/c7bbb3/" class="sidebar-link">当使用其他类型更合适时应避免使用字符串</a></li><li><a href="/OnJava8/pages/74ec04/" class="sidebar-link">当心字符串连接引起的性能问题</a></li><li><a href="/OnJava8/pages/aefc74/" class="sidebar-link">通过接口引用对象</a></li><li><a href="/OnJava8/pages/b4b8b5/" class="sidebar-link">接口优于反射</a></li><li><a href="/OnJava8/pages/65ee7f/" class="sidebar-link">明智审慎地本地方法</a></li><li><a href="/OnJava8/pages/18c504/" class="sidebar-link">明智审慎地进行优化</a></li><li><a href="/OnJava8/pages/f744e1/" class="sidebar-link">遵守被广泛认可的命名约定</a></li><li><a href="/OnJava8/pages/35b71f/" class="sidebar-link">只针对异常的情况下才使用异常</a></li><li><a href="/OnJava8/pages/6af810/" class="sidebar-link">对可恢复的情况使用受检异常，对编程错误使用运行时异常</a></li><li><a href="/OnJava8/pages/2ad459/" class="sidebar-link">避免不必要的使用受检异常</a></li><li><a href="/OnJava8/pages/37b2f9/" class="sidebar-link">优先使用标准的异常</a></li><li><a href="/OnJava8/pages/736442/" class="sidebar-link">抛出与抽象对应的异常</a></li><li><a href="/OnJava8/pages/0f4860/" class="sidebar-link">每个方法抛出的异常都需要创建文档</a></li><li><a href="/OnJava8/pages/643f4f/" class="sidebar-link">在细节消息中包含失败一捕获信息</a></li><li><a href="/OnJava8/pages/f35a3a/" class="sidebar-link">保持失败原子性</a></li><li><a href="/OnJava8/pages/42e94b/" class="sidebar-link">不要忽略异常</a></li><li><a href="/OnJava8/pages/2e54d9/" class="sidebar-link">同步访问共享的可变数据</a></li><li><a href="/OnJava8/pages/849f24/" class="sidebar-link">避免过度同步</a></li><li><a href="/OnJava8/pages/a8535e/" class="sidebar-link">executor 、task 和 stream 优先于线程</a></li><li><a href="/OnJava8/pages/27848c/" class="sidebar-link">并发工具优于 wait 和 notify</a></li><li><a href="/OnJava8/pages/379820/" class="sidebar-link">文档应包含线程安全属性</a></li><li><a href="/OnJava8/pages/685a39/" class="sidebar-link">明智审慎的使用延迟初始化</a></li><li><a href="/OnJava8/pages/df0a31/" class="sidebar-link">不要依赖线程调度器</a></li><li><a href="/OnJava8/pages/48ff5f/" class="sidebar-link">优先选择 Java 序列化的替代方案</a></li><li><a href="/OnJava8/pages/d1679f/" class="sidebar-link">非常谨慎地实现 Serializable</a></li><li><a href="/OnJava8/pages/de0707/" class="sidebar-link">考虑使用自定义的序列化形式</a></li><li><a href="/OnJava8/pages/2bfa05/" class="sidebar-link">保护性的编写 readObject 方法</a></li><li><a href="/OnJava8/pages/4fcb2c/" class="sidebar-link">对于实例控制，枚举类型优于 readResolve</a></li><li><a href="/OnJava8/pages/70e740/" class="sidebar-link">考虑用序列化代理代替序列化实例</a></li></ul></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-0c557b5e><div class="articleInfo" data-v-0c557b5e><ul class="breadcrumbs" data-v-0c557b5e><li data-v-0c557b5e><a href="/OnJava8/" title="首页" class="iconfont icon-home router-link-active" data-v-0c557b5e></a></li> <li data-v-0c557b5e><a href="/OnJava8/categories/?category=%E4%B9%A6%E7%B1%8D" title="分类" data-v-0c557b5e>书籍</a></li><li data-v-0c557b5e><a href="/OnJava8/categories/?category=Effective%20Java" title="分类" data-v-0c557b5e>Effective Java</a></li></ul> <div class="info" data-v-0c557b5e><div title="作者" class="author iconfont icon-touxiang" data-v-0c557b5e><a href="https://github.com/chenjianyao" target="_blank" title="作者" class="beLink" data-v-0c557b5e>chenjianyao</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-0c557b5e><a href="javascript:;" data-v-0c557b5e>2022-02-11</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><!----> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABH1JREFUSA3tVl1oHFUUPmdmd2ltklqbpJDiNnXFmgbFktho7YMPNiJSSZM0+CAYSkUELVhM6YuwIPpgoOKDqOBDC0XE2CQoNtQXBUFTTcCi+Wlh1V2TQExsUzcltd3M9Tt3ZjZzZ2fT+OJTL8yeM+eee757fmeJbq//KQL8X3DUSFOcfr7cRsRtxNQMWueeVzOkaITIGqQHNg5y8+jNW9ldM7A6nTpAjuolUikAwq7CE3WcM2RRDz+XGVgN3FptU/aUSlvq9Pa3iZ1+sgAqJyyAFqkipd9dqiwHF3P65YycLWc/6sqGrvoEoIp6DOFaX5h6+dnfjkWprwqsPk0dUGq5vySwDImC10KxFHgGL1SWoc92O3eVht09qdXNH11I2SsTsJYqMWzihqGMi+A+Garf3BAuuLI5oGlULyNfyB/HYNujwktOfRrMr5t77NmevqaUopx0grnKAyvVpmwUDB4x6FPXuGvYLTDwWsejwgtgkYKPqRJg8SV6xaiZ3ZTppGneS4yfH5/66fZSDHv+QZci/+h5c5UHtpy67JUqGppM0sh0Nc1dW6/N1W5Yoqat8/TU/VnadmdeW2PLLSyh0cvxBs3KbqTmwYPpxN4do/mzE8nEpvX/UMu2Wbp74zUAK5q6WkHns7V0eWkdPbPzd3rxkTGybadYySumVzhcaJFbs5UrEkQ/+CK8gF5dnh/6ciIZ73gwQ927L1IitoxKLXYP3SjYdOrHHfTZhRRlFyrorafPk20B3HPD1y2G3qKZME5Jcf3t/HUC13/8tSd++vqFveMUTwAUxSUFI1QekR1+bIze3D9MF2aq6cPvG72CgnldWCFqyRw3lwH8ZMerjTD9ElRO7Gv44wNpC90aASqGfVlz/Rx17srQ57/UU26hkhQqUB7dBR71WmzQhHUnblGmVOEw0jhbV1n9OlXUDCIRGaNV5Jp43N516fN7JmnTHdfp7Hgy0luO4aMhtkLL8Bi3bUWYvzh5Mn1dTxrL6QmGuRhGL/TiTTxRoEdTszSaq9GR0NGA3KdkOz3hqSV3MIDhQ5IVX/Ivx3umBti2es2h4eZby7x8br1rkf7Mo90AqC8aQ3sJeNzqFRu+vSANAQe3PL7l0HGOAdwDCeZYvNKeoZp1Qfs6Aipndh86HmFRi0LAnEO47wsqM6cdfjh3jBPUzhZy7nvlUfFsamED1VQt6aISHVymXZ/B2aCtIG8AI8xfobj2d3en1wWVhOeHELKmLQ1s211s88comkv4UCwWyF787mJdYXtNfhKAXVqnKTq8QZvGAGGOfaTo5pGZ/PwbUCr5+DPr/1J92JNHr9aOl/F3iI5+O1nfybsGxoimvZ3ViWSluDITw3P37mypheDIPY0tw7+O/5ApbkYw+zpfaUVu32Pi98+defdUhEpZkRFq0aqyNh9FuL9hpYbEm6iwi0z2REd09ZmyENEbuhjDWzKvZXTqKYaBIr3tt5kuPtQBZFvEUwHt60vfCNu41XsksH9Ij1BMMz1Y0OOunHNShFIP5868g5zeXmuLwL9T4b6Q2+KejgAAAABJRU5ErkJggg==">为所有已公开的 API 元素编写文档注释<!----></h1> <!----> <div class="theme-vdoing-content content__default"><h1 id="_56-为所有已公开的-api-元素编写文档注释"><a href="#_56-为所有已公开的-api-元素编写文档注释" class="header-anchor">#</a> 56. 为所有已公开的 API 元素编写文档注释</h1> <p>如果 API 要可用，就必须对其进行文档化。传统上，API 文档是手工生成的，保持文档与代码的同步是一件苦差事。Java 编程环境使用 <code>Javadoc</code> 实用程序简化了这一任务。<code>Javadoc</code> 使用特殊格式的文档注释 (通常称为 doc 注释)，从源代码自动生成 API 文档。</p> <p>虽然文档注释约定不是 Java 语言的正式一部分，但它们构成了每个 Java 程序员都应该知道的事实上的 API。「如何编写文档注释（How to Write Doc Comments）」的网页[Javadoc-guide] 中介绍了这些约定。  虽然自 Java 4 发布以来该页面尚未更新，但它仍然是一个非常宝贵的资源。 Java 9 中添加了一个重要的文档标签，<code>{@ index}</code>； Java 8 中有一个，<code>{@implSpec}</code>；Java 5 中有两个，<code>{@literal}</code> 和 <code>{@code}</code>。 上述网页中缺少这些标签的介绍，但在此条目中进行讨论。</p> <p><strong>要正确地记录 API，必须在每个导出的类、接口、构造方法、方法和属性声明之前加上文档注释</strong>。如果一个类是可序列化的，还应该记录它的序列化形式 （详见第 87 条）。在没有文档注释的情况下，Javadoc 可以做的最好的事情是将声明重现为受影响的 API 元素的唯一文档。使用缺少文档注释的 API 是令人沮丧和容易出错的。公共类不应该使用默认构造方法，因为无法为它们提供文档注释。要编写可维护的代码，还应该为大多数未导出的类、接口、构造方法、方法和属性编写文档注释，尽管这些注释不需要像导出 API 元素那样完整。</p> <p>方法的文档注释应该简洁地描述方法与其客户端之间的契约。除了为继承而设计的类中的方法 （详见第 19 条）之外，契约应该说明方法做什么，而不是它如何工作的。文档注释应该列举方法的所有前置条件 (这些条件必须为真，以便客户端调用它们)，以及后置条件（这些条件是在调用成功完成后才为真）。通常，对于未检查的异常，前置条件由 <code>@throw</code> 标签隐式地描述；每个未检查异常对应于一个先决条件违反（ precondition violation）。此外，可以在受影响的参数的 <code>@param</code> 标签中指定前置条件。</p> <p>除了前置条件和后置条件之外，方法还应在文档中记录它的副作用（side effort）。 副作用是系统状态的可观察到的变化，这对于实现后置条件而言显然不是必需的。 例如，如果方法启动后台线程，则文档应记录它。</p> <p>完整地描述方法的契约，文档注释应该为每个参数都有一个 <code>@param</code> 标签，一个 <code>@return</code> 标签 (除非方法有 void 返回类型)，以及一个 <code>@throw</code> 标签（无论是检查异常还是非检查异常）（详见第 74 条）。如果 <code>@return</code> 标签中的文本与方法的描述相同，则可以忽略它，这取决于你所遵循的编码标准。</p> <p>按照惯例，<code>@param</code> 或 <code>@retur</code> 标签后面的文本应该是一个名词短语，描述参数或返回值所表示的值。 很少使用算术表达式代替名词短语; 请参阅 <code>BigInteger</code> 的示例。<code>@throw</code> 标签后面的文本应该包含单词「if」，后面跟着一个描述抛出异常的条件的子句。按照惯例，<code>@param</code> 、<code>@return</code> 或 <code>@throw</code> 标签后面的短语或子句不以句号结束。以下的文档注释说明了所有这些约定:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">/**
 * Returns the element at the specified position in this list.
 *
 * &lt;p&gt;This method is &lt;i&gt;not&lt;/i&gt; guaranteed to run in constant
 * time. In some implementations it may run in time proportional
 * to the element position.
 *
 * @param  index index of element to return; must be
 *         non-negative and less than the size of this list
 * @return the element at the specified position in this list
 * @throws IndexOutOfBoundsException if the index is out of range
 *         ({@code index &lt; 0 || index &gt;= this.size()})
 */</span>
<span class="token class-name">E</span> <span class="token function">get</span><span class="token punctuation">(</span><span class="token keyword">int</span> index<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>请注意在此文档注释（<code>&lt;p&gt;</code>和<code>&lt;i&gt;</code>）中使用 HTML 标记。 Javadoc 实用工具将文档注释转换为 HTML，文档注释中的任意 HTML 元素最终都会生成 HTML 文档。 有时候，程序员甚至会在他们的文档注释中嵌入 HTML 表格，尽管这种情况很少见。</p> <p>还要注意在<code>@throw</code>子句中的代码片段周围使用 Javadoc 的 <code>{@code}</code>标签。这个标签有两个目的:它使代码片段以代码字体形式呈现，并且它抑制了代码片段中 HTML 标记和嵌套 Javadoc 标记的处理。后一个属性允许我们在代码片段中使用小于号（&lt;），即使它是一个 HTML 元字符。要在文档注释中包含多行代码示例，请使用包装在 HTML <code>&lt;pre&gt;</code>标记中的 Javadoc<code>{@code}</code>标签。换句话说，在代码示例前面加上字符<code>&lt;pre&gt;{@code，然后在代码后面加上}&lt;/pre&gt;</code>。这保留了代码中的换行符，并消除了转义 HTML 元字符的需要，但不需要转义 at 符号（@），如果代码示例使用注释，则必须转义 at 符号（@）。</p> <p>最后，请注意文档注释中使用的单词「this list」。按照惯例，「this」指的是在实例方法的文档注释中，指向方法调用所在的对象。</p> <p>正如条目 15 中提到的，当你为继承设计一个类时，必须记录它的自用模式（self-use patterns），以便程序员知道重写它的方法的语义。这些自用模式应该使用在 Java 8 中添加的<code>@implSpec</code> 标签来文档记录。回想一下，普通的问问昂注释描述了方法与其客户端之间的契约；相反，<code>@implSpec</code> 注释描述了方法与其子类之间的契约，如果它继承了方法或通过 super 调用方法，那么允许子类依赖于实现行为。下面是实际应用中的实例：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code>  <span class="token comment">/**
 * Returns true if this collection is empty.
 *
 * @implSpec
 * This implementation returns {@code this.size() == 0}.
 *
 * @return true if this collection is empty
 */</span>
<span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>从 Java 9 开始，Javadoc 实用工具仍然忽略 @implSpec 标签，除非通过命令行开关：<code>-tag &quot;implSpec:a:Implementation Requirements:&quot;</code>。希望在后续的版本中可以修正这个错误。</p> <p>不要忘记，你必须采取特殊操作来生成包含 HTML 元字符的文档，例如小于号（&lt;），大于号（&gt;）和 and 符号（&amp;）。 将这些字符放入文档的最佳方法是使用<code>{@literal}</code>标签将它们包围起来，该标签禁止处理 HTML 标记和嵌套的 Javadoc 标记。 它就像<code>{@code}</code>标签一样，除了不会以代码字体呈现文本以外。 例如，这个 Javadoc 片段：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token operator">*</span> <span class="token class-name">A</span> geometric series converges <span class="token keyword">if</span> <span class="token punctuation">{</span><span class="token annotation punctuation">@literal</span> <span class="token operator">|</span>r<span class="token operator">|</span> <span class="token operator">&lt;</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">.</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>它会生成文档：「A geometric series converges if |r| &lt; 1.」。<code>{@literal}</code>标签可能只放在小于号的位置，而不是整个不等式，并且生成的文档是一样的，但是文档注释在源代码中的可读性较差。 这说明了<strong>文档注释在源代码和生成的文档中都应该是可读的通用原则</strong>。 如果无法实现这两者，则生成的文档的可读性要胜过在源代码中的可读性。</p> <p>每个文档注释的第一个「句子」（如下定义）成为注释所在元素的概要描述。 例如，第 255 页上的文档注释中的概要描述为：「返回此列表中指定位置的元素」。概要描述必须独立描述其概述元素的功能。 为避免混淆，<strong>类或接口中的两个成员或构造方法不应具有相同的概要描述</strong>。 要特别注意重载方法，为此通常使用相同的第一句话是自然的（但在文档注释中是不可接受的）。</p> <p>请小心，如果预期的概要描述包含句点，因为句点可能会提前终止描述。例如，以「A college degree, such as B.S., M.S. or Ph.D.」 会导致概要描述为「A college degree, such as B.S., M.S」。问题在于概要描述在第一个句点结束，然后是空格、制表符或行结束符（或第一个块标签处）[Javadoc-ref]。这里是缩写「M.S.」 中的第二个句号后面跟着一个空格。最好的解决方案是用<code>{@literal}</code>标签来包围不愉快的句点和任何相关的文本，这样源代码中的句点后面就不会有空格了:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">/**
 * A college degree, such as B.S., {@literal M.S.} or Ph.D.
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Degree</span> <span class="token punctuation">{</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>说概要描述是文档注释中的第一句子，其实有点误导人。按照惯例，它很少应该是一个完整的句子。对于方法和构造方法，概要描述应该是一个动词短语 (包括任何对象)，描述了该方法执行的操作。例如：</p> <ul><li><code>ArrayList(int initialCapacity)</code> —— 构造具有指定初始容量的空列表。</li> <li><code>Collection.size()</code> —— 返回此集合中的元素个数。</li></ul> <p>如这些例子所示，使用第三人称陈述句时态 （“returns the number”）而不是第二人称祈使句（“return the number”）。</p> <p>对于类，接口和属性，概要描述应该是描述由类或接口的实例或属性本身表示的事物的名词短语。 例如：</p> <ul><li><code>Instant</code> —— 时间线上的瞬时点。</li> <li><code>Math.PI</code>—— 更加接近 pi 的 double 类型数值，即圆的周长与其直径之比。</li></ul> <p>在 Java 9 中，客户端索引被添加到 Javadoc 生成的 HTML 中。这个索引以页面右上角的搜索框的形式出现，它简化了导航大型 API 文档集的任务。当你在框中键入时，得到一个匹配页面的下拉菜单。API 元素 (如类、方法和属性) 是自动索引的。有时，可能希望索引对你的 API 很重要的其他术语。为此添加了<code>{@index}</code>标签。对文档注释中出现的术语进行索引，就像将其包装在这个标签中一样简单，如下面的片段所示:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token operator">*</span> <span class="token class-name">This</span> method complies <span class="token keyword">with</span> <span class="token namespace">the</span> <span class="token punctuation">{</span><span class="token annotation punctuation">@index</span> IEEE <span class="token number">754</span><span class="token punctuation">}</span> standard<span class="token punctuation">.</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>泛型，枚举和注释需要特别注意文档注释。 <strong>记录泛型类型或方法时，请务必记录所有类型参数</strong>：</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">/**
 * An object that maps keys to values.  A map cannot contain
 * duplicate keys; each key can map to at most one value.
 *
 * (Remainder omitted)
 *
 * @param &lt;K&gt; the type of keys maintained by this map
 * @param &lt;V&gt; the type of mapped values
 */</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span> <span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p><strong>在记录枚举类型时，一定要记录常量</strong>，以及类型和任何公共方法。注意，如果文档很短，可以把整个文档注释放在一行:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">/**
 * An instrument section of a symphony orchestra.
 */</span>
<span class="token keyword">public</span> <span class="token keyword">enum</span> <span class="token class-name">OrchestraSection</span> <span class="token punctuation">{</span>
    <span class="token comment">/** Woodwinds, such as flute, clarinet, and oboe. */</span>
    WOODWIND<span class="token punctuation">,</span>

    <span class="token comment">/** Brass instruments, such as french horn and trumpet. */</span>
    BRASS<span class="token punctuation">,</span>

    <span class="token comment">/** Percussion instruments, such as timpani and cymbals. */</span>
    PERCUSSION<span class="token punctuation">,</span>

    <span class="token comment">/** Stringed instruments, such as violin and cello. */</span>
    STRING<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p><strong>在为注解类型记录文档时，一定要记录任何成员</strong>，以及类型本身。用名词短语表示的文档成员，就好像它们是属性一样。对于类型的概要描述，请使用动词短语，它表示当程序元素具有此类型注解的所表示的含义:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">/**
 * Indicates that the annotated method is a test method that
 * must throw the designated exception to pass.
 */</span>
<span class="token annotation punctuation">@Retention</span><span class="token punctuation">(</span><span class="token class-name">RetentionPolicy</span><span class="token punctuation">.</span>RUNTIME<span class="token punctuation">)</span>
<span class="token annotation punctuation">@Target</span><span class="token punctuation">(</span><span class="token class-name">ElementType</span><span class="token punctuation">.</span>METHOD<span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token annotation punctuation">@interface</span> <span class="token class-name">ExceptionTest</span> <span class="token punctuation">{</span>
     <span class="token comment">/**
      * The exception that the annotated test method must throw
      * in order to pass. (The test is permitted to throw any
      * subtype of the type described by this class object.)
      */</span>
    <span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">Throwable</span><span class="token punctuation">&gt;</span></span> <span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>包级别文档注释应放在名为 package-info.java 的文件中。 除了这些注释之外，package-info.java 还必须包含一个包声明，并且可以在此声明中包含注解。 同样，如果使用模块化系统（详见第 15 条），则应将模块级别注释放在 module-info.java 文件中。</p> <p>在文档中经常忽略的 API 的两个方面，分别是线程安全性和可序列化性。<strong>无论类或静态方法是否线程安全，都应该在文档中描述其线程安全级别</strong>，如条目 82 中所述。如果一个类是可序列化的，应该记录它的序列化形式，如条目 87 中所述。</p> <p>Javadoc 具有「继承（inherit）」方法注释的能力。 如果 API 元素没有文档注释，Javadoc 将搜索最具体的适用文档注释，接口文档优先于超类文档。 搜索算法的详细信息可以在 The Javadoc Reference Guide [Javadoc-ref] 中找到。 还可以使用<code>{@inheritDoc}</code>标签从超类继承部分文档注释。 这意味着，除其他外，类可以重用它们实现的接口的文档注释，而不是复制这些注释。 该工具有可能减轻维护多组几乎相同的文档注释的负担，但使用起来很棘手并且有一些限制。 详细信息超出了本书的范围。</p> <p>关于文档注释，应该添加一个警告说明。虽然有必要为所有导出的 API 元素提供文档注释，但这并不总是足够的。对于由多个相互关联的类组成的复杂 API，通常需要用描述 API 总体架构的外部文档来补充文档注释。如果存在这样的文档，相关的类或包文档注释应该包含到外部文档的链接。</p> <p>Javadoc 会自动检查是否符合此条目中的许多建议。在 Java 7 中，需要命令行开关<code>-Xdoclint</code>来获得这种行为。在 Java 8 和 Java 9 中，默认情况下启用了此检查。诸如 checkstyle 之类的 IDE 插件会进一步检查是否符合这些建议[Burn01]。还可以通过 HTML 有效性检查器运行 Javadoc 生成的 HTML 文件来降低文档注释中出现错误的可能性。可以检测 HTML 标记的许多错误用法。有几个这样的检查器可供下载，可以使用 W3C markup validation service 在线验证 HTML 格式。在验证生成的 HTML 时，请记住，从 Java 9 开始，Javadoc 就能够生成 HTML5 和 HTML 4.01，尽管默认情况下仍然生成 HTML 4.01。如果希望 Javadoc 生成 HTML5，请使用<code>-html5</code>命令行开关。</p> <p>本条目中描述的约定涵盖了基本内容。尽管撰写本文时已经有 15 年的历史，但编写文档注释的最终指南仍然是<a href="https://www.oracle.com/technetwork/articles/java/index-137868.html" target="_blank" rel="noopener noreferrer">《How to Write Doc Comments》<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>[Javadoc-guide]。</p> <p>如果你遵循本项目中的指导原则，生成的文档应该提供对 API 的清晰描述。然而，唯一确定的方法，<strong>是阅读 Javadoc 实用工具生成的 web 页面</strong>。对于其他人将使用的每个 API，都值得这样做。正如测试程序几乎不可避免地会导致对代码的一些更改一样，阅读文档通常也会导致对文档注释的一些少许的修改。</p> <p>总之，文档注释是记录 API 的最佳、最有效的方法。对于所有导出的 API 元素，它们的使用应被视为必需的。 采用符合标准惯例的一致风格 。请记住，在文档注释中允许任意 HTML，但必须转义 HTML 的元字符。</p></div></div> <!----> <div class="page-edit"><div class="edit-link"><a href="https://github.com/chenjianyao/OnJava8/edit/master/docs/100.书籍/110.Effective Java/56. 为所有已公开的 API 元素编写文档注释.md" target="_blank" rel="noopener noreferrer">编辑</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2022/02/11, 17:35:12</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/OnJava8/pages/5e80b5/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">明智审慎地返回 Optional</div></a> <a href="/OnJava8/pages/912e8c/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">最小化局部变量的作用域</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/OnJava8/pages/5e80b5/" class="prev">明智审慎地返回 Optional</a></span> <span class="next"><a href="/OnJava8/pages/912e8c/">最小化局部变量的作用域</a>→
      </span></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/OnJava8/archives/" class="iconfont icon-bi">最近更新</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/OnJava8/pages/95cf89/"><div>
            Effective Java
            <!----></div></a> <span class="date">03-03</span></dt></dl><dl><dd>02</dd> <dt><a href="/OnJava8/pages/1991bd/"><div>
            Java编程思想
            <!----></div></a> <span class="date">03-03</span></dt></dl><dl><dd>03</dd> <dt><a href="/OnJava8/pages/0e5c0a/"><div>
            Game Hack
            <!----></div></a> <span class="date">03-03</span></dt></dl> <dl><dd></dd> <dt><a href="/OnJava8/archives/" class="more">更多文章&gt;</a></dt></dl></div></div></main></div> <div class="footer"><!----> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 2022-2022
    <span>Smile | <a href="https://github.com/chenjianyao/OnJava8/blob/master/LICENSE" target="_blank">MIT License</a></span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <!----> <!----> <!----></div><div class="global-ui"></div></div>
    <script src="/OnJava8/assets/js/app.bd93526c.js" defer></script><script src="/OnJava8/assets/js/2.e7971354.js" defer></script><script src="/OnJava8/assets/js/107.37540438.js" defer></script>
  </body>
</html>
